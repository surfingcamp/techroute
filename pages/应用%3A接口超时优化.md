title:: 应用:接口超时优化

- 先分析原因，是调用频率不正常，还是接口能力不行？
	- 解决超时问题：提升接口处理能力：如果业务上就是要求 tpsqps 必须达到 xxx 量，那没什么好说的，提升接口的处理能力！
		- 业务优化
			- 链路太长
				- 首先考虑是否是中间层太多，是否可以将没有用的中间层去掉？直接调用真实服务。或者并行的调用几个没有依赖关系的服务
				- 如果每层都有业务处理，那可以考虑改变接口调用方式，从同步改成异步回调，可以参考支付宝付款回调
					- 非紧急任务放入消息队列里处理
			- 各业务放进行接口优化
				- 数据量太大
					- 对于第一种，考虑分布式的存储数据，一个大数据拆成多个小数据块，并行获取&存
				- 数据处理耗时太多
					- 对于第二种，对各部分处理耗时进行统计分析，按照从小到大的顺序依次优化
						- 代码原因：优化代码
							- 把一个复杂接口拆分成多个简单接口
						- 优化缓存
						- SQL原因：优化SQL语句
		- 业务优化完了，可以再考虑扩展更多的微服务节点
			- 加机器、加配置、采取相应的算法路由将请求打到不同节点。
	- 改异步：如果没有必要同步调用，那就走消息服务！
	- 保证服务高可用：增加熔断降级限流等措施，保证服务高可用，防止服务雪崩